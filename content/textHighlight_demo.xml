<!-- TextHighlight Block Demo -->
<Vertical id="TextHighlightDemo" title="TextHighlight Block Demo" launchable="true">
  
  <Markdown>
# TextHighlight Block Demo

The TextHighlight block allows students to interactively highlight text segments. This demo shows all three modes and various features.

## How it works:
- **Required segments**: Square brackets around text - must be highlighted for full credit
- **Optional segments**: Curly braces around text - can be highlighted without penalty  
- **Feedback triggers**: Double angle brackets - provide specific feedback when incorrectly selected
- **Labels**: Pipe symbol after content - allow targeted feedback for specific segments
- **Scoring rules**: Flexible conditions and feedback messages
  </Markdown>

  <!-- Basic Example - Immediate Mode -->
  <Markdown>
## 1. Immediate Mode (Real-time feedback)

Click on words to highlight them. Feedback appears immediately:
  </Markdown>

  <TextHighlight id="demo_immediate" mode="immediate" src="examples/simple_nouns.textHighlight" />

  <Markdown>
*In this example:*
- **student, park, friends** are required (nouns)  
- **The, the, their** are optional (articles/pronouns are sometimes considered)
  </Markdown>

  <!-- Graded Mode with Scoring -->
  <Markdown>
## 2. Graded Mode (Check when ready)

Make your selections, then click "Check Answer" for feedback:
  </Markdown>

  <TextHighlight id="demo_graded" mode="graded" src="examples/reinforcement_with_feedback.textHighlight" />

  <Markdown>
*This example demonstrates:*
- **Scoring rules**: Different messages based on performance
- **Feedback triggers**: Selecting "yelling" or "take away toys" gives specific hints
- **Progressive feedback**: More encouraging as students find more correct answers
  </Markdown>

  <!-- Self-Check Mode -->
  <Markdown>
## 3. Self-Check Mode (Student reflection)

Make your selections, then reveal the answer to compare:
  </Markdown>

  <TextHighlight id="demo_self_check" mode="self_check" src="examples/self_check_mode.textHighlight" />

  <Markdown>
*Self-check mode is perfect for:*
- Review sessions where students check their own understanding
- Formative assessment without pressure
- Encouraging self-reflection on learning
  </Markdown>

  <!-- Advanced Example with Targeted Feedback -->
  <Markdown>
## 4. Advanced Features

This example shows targeted feedback for specific selections:
  </Markdown>

  <TextHighlight id="demo_advanced" mode="immediate" src="examples/targeted_feedback.textHighlight" />

  <Markdown>
*Advanced features shown:*
- **Targeted feedback**: Clicking specific segments gives tailored hints
- **Complex scoring**: Multiple conditions (found > X, errors < Y)
- **Educational guidance**: Helps students understand their mistakes
  </Markdown>

  <!-- Complex Multiline Example -->
  <Markdown>
## 5. Multiline Content

TextHighlight works with longer passages across multiple paragraphs:
  </Markdown>

  <TextHighlight id="demo_multiline" mode="graded" src="examples/multiline_paragraphs.textHighlight" />

  <Markdown>
*Multiline features:*
- **Paragraph spanning**: Content can be as long as needed
- **Labeled sections**: para1_reinf, para2_fade, etc. for organization
- **Contextual feedback**: Hints that reference specific paragraphs
  </Markdown>

  <!-- Edge Cases -->
  <Markdown>
## 6. Edge Cases and Special Characters

The parser handles special characters and edge cases gracefully:
  </Markdown>

  <TextHighlight id="demo_edge_cases" mode="immediate" src="examples/corner_case_parentheses.textHighlight" />

  <Markdown>
*Edge case handling:*
- **Parentheses**: Normal parentheses work fine in text
- **Escaped characters**: Use backslash-bracket for literal brackets
- **Mixed content**: Required, optional, and plain text all together
  </Markdown>

  <!-- Teacher Authoring Guide -->
  <Markdown>
## Teacher Authoring Guide

### Content Format:
TextHighlight content is stored in .textHighlight files with a simple format:
- Start with a prompt asking what to highlight
- Add three dashes (---) to separate prompt from content
- Use square brackets for required segments 
- Use curly braces for optional segments
- Use double angle brackets for feedback triggers
- Add scoring rules after another --- line
- Add targeted feedback after a third --- line

### XML Usage:
- Set mode attribute to immediate for real-time feedback as students click
- Set mode attribute to graded for students to click Check Answer when ready
- Set mode attribute to self_check for students to compare with revealed answer
- Set src attribute to load content from a file

See the examples above to understand the full syntax!
  </Markdown>

  <Markdown>
---

## Summary

The TextHighlight block provides flexible, interactive text highlighting with:
- **Three interaction modes** for different learning contexts
- **Rich feedback systems** including targeted hints and progressive scoring
- **Teacher-friendly authoring** with intuitive bracket notation
- **Robust parsing** that handles edge cases gracefully

Perfect for language arts, psychology, science, and any subject where identifying key concepts in text is important!
  </Markdown>

</Vertical>